<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script>
      function redirectToPage(page) {
      window.location.href = page;
      }

      function goBack() {
          window.history.back();
      }
      
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
    var sleepData = [];
    var sleepTable = document.getElementById('sleepTable');
    var averageSleepCell = document.getElementById('averageSleep');

    window.logSleep = function() {
        var sleepDateInput = document.getElementById('sleepDate');
        var sleepHoursInput = document.getElementById('sleepHours');

        var sleepDate = sleepDateInput.value;
        var sleepHours = parseInt(sleepHoursInput.value);

        if (!isNaN(sleepHours)) {
            // Format date to show day of the week
            var dateObj = new Date(sleepDate);
            var dayOfWeek = new Intl.DateTimeFormat('en-US', { weekday: 'long' }).format(dateObj);

            // Add data to the array
            sleepData.push({ date: sleepDate, day: dayOfWeek, hours: sleepHours });

            // Update the table
            updateSleepTable();

            // Calculate and update the average
            calculateAverage();

            // Clear the inputs
            sleepDateInput.value = '';
            sleepHoursInput.value = '';
        }
    };

    function updateSleepTable() {
        var tbody = sleepTable.querySelector('tbody');

        // Clear existing rows
        tbody.innerHTML = '';

        // Add new rows
        sleepData.forEach(function(entry) {
            var row = tbody.insertRow();
            var cellDate = row.insertCell(0);
            var cellDay = row.insertCell(1);
            var cellHours = row.insertCell(2);

            cellDate.textContent = entry.date;
            cellDay.textContent = entry.day;
            cellHours.textContent = entry.hours;
        });
    }

    function calculateAverage() {
        var totalHours = 0;

        sleepData.forEach(function(entry) {
            totalHours += entry.hours;
        });

        var average = totalHours / sleepData.length;

        // Update the average cell
        averageSleepCell.textContent = average.toFixed(2);
    }
});

    </script>
    <title>Self-Care Tips - Prioritize Sleep</title>

</head>
<body>
    <div class="container text-center">
        <img src="http://www.safecare.com/wp-content/blogs.dir/13/files/2017/12/Sleep.jpg" alt="Sleep" style="width:400px;"></br>
        <button class="mt-2 btn btn-outline-secondary" onclick="goBack()">Go Back</button>
            <h1 class="mt-2">Prioritize Sleep</h1>
            
            <p class="description-text">
                Ensure you get enough quality sleep. Aim for 7-9 hours of sleep each night.
                Create a relaxing bedtime routine to improve the quality of your sleep.</br> Keep track of your sleep:
            </p>
            
        
        
        <table class="table table-striped">
        <thead>
            <tr>
                <th>Date</th>
                <th>Day</th>
                <th>Hours Slept</th>
            </tr>
        </thead>
        <tbody>
            
        </tbody>
        <tfoot>
            <tr>
                <td colspan="2">Average Sleep Hours:</td>
                <td id="averageSleep">0</td>
            </tr>
        </tfoot>
    </table>

    <div class="log-form">
        <label for="sleepDate">Date:</label>
        <input type="date" id="sleepDate" required></br>
        <label class="mt-2"for="sleepHours">Hours Slept:</label>
        <select id="sleepHours" required>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
        </select></br>
        <button class="btn btn-outline-primary mt-2 mb-4"onclick="logSleep()">Log Sleep</button>
    </div>
</div>
   
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="script.js"></script>
</body>
</html>
